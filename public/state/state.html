<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!--<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.13/angular.min.js"></script>-->
    <!--<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">-->
    <link rel="stylesheet" media="all" href="../stylesheets/bootstrap-min.css">
    <link rel="stylesheet" media="all" href="../theme/css/default.css">
    <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="../theme/css/phone.css">


    <script src="../js/jquery-1.11.1.min.js"></script>
    <script src="../js/presenter.js"></script>

    <base target="_blank">
    <style>
        code {
            color: darkblue;
        }
    </style>

    <!-- This opens all links in a new tab. -->
    <script data-main="../js/slides" src="../js/require-1.0.8.min.js"></script>

    <!--In order to have more than one slideset in the project-->
    <script src="slides.js"></script>

</head>

<body style="opacity: 0">

<slides class="layout-widescreen">

    <slide class="title-slide segue nobackground" style="background: #00163B">
        <aside class="gdbar"><img src="../images/logo.png" style="width: 200px;"></aside>
        <hgroup class="auto-fadein" style="color: white;">
            <div>
                <div style="float: left;margin-top:0 ">
                    <h1 data-config-title></h1>

                    <h2 data-config-subtitle></h2>

                    <p data-config-presenter></p>
                </div>
                <div style="float:left;margin-left: 2em;margin-top: -0px;">

                </div>
            </div>
        </hgroup>
    </slide>

    <slide>
        <hgroup>
            <h2>State - what does it mean</h2>
        </hgroup>
        <article>
            <div class="build">
                <div class="row">
                    <div class="col-md-2">
                        <img style="width:100%;" src="images/haveyoursay.jpg"/>
                    </div>
                    <div class="col-md-10">
                        <p>What is meant by <b>state</b> in the context of Computer Science<b>?</b></p>
                    </div>
                </div>
                <div style="margin-top: 1em;">
                    The state of a computer program is a technical term for all the stored information,
                    at a given instant in time, to which the program has access<br/>
                    <a style="font-size: .5em;" href="https://en.wikipedia.org/wiki/State_(computer_science)">According
                        to
                        Wikepedia</a>
                </div>


                <div class="row" style="margin-top: 2em;">
                    <div class="col-md-2">
                        <img style="width:100%;" src="images/haveyoursay.jpg"/>
                    </div>
                    <div class="col-md-10">
                        <p>What is meant by <b>state</b> in the context of a Web Page<b>?</b></p>
                    </div>
                </div>
                <div style="margin-top: 1em;">
                    "the current visual representation of the app on screen." ???
                </div>
            </div>


        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>State and Props in REACT</h2>
        </hgroup>
        <article>
            <div class="build" style="margin-top: -20px;">
                <div class="row">
                    <div class="col-md-1">
                        <img style="width:100%;" src="images/discuss.png"/>
                    </div>
                    <div class="col-md-11">
                        <p>What is <b>props</b> in React<b>?</b></p>
                        <div class="build">
                            <ul style="font-size: 0.8em;">
                                <li>A way to provide "creation" parameters to React Components<br/></li>
                                <li>Can be "type-checked" via <code>propTypes</code><br/></li>
                                <li>Can have initial values via <code>defaultProps</code></li>
                                <li><code>props</code> are set by the parent and they are fixed throughout the lifetime
                                    of a component <br/></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-1">
                        <img style="width:100%;" src="images/discuss.png"/>
                    </div>
                    <div class="col-md-11">
                        <p>What is <b>State</b> in React<b>?</b></p>
                        <div class="build">
                            <ul style="font-size: 0.8em;">
                                <li>In the React sense, “state” is an object that represents the parts of the app that
                                    can changee<br/>
                                </li>
                                <li>Calling <code>setState({..})</code> will re-run the <code>render</code> function.
                                    <br/></li>
                                <li>Generally initialized in a constructor and changed via calls to
                                    <code>setState</code> when needed
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-1">
                        <img style="width:100%;" src="images/discuss.png"/>
                    </div>
                    <div class="col-md-11">
                        <p>What should I use - <code>Props</code> or <code>state</code><b>?</b></p>
                        <div class="build">
                            <ul style="font-size: 0.8em;">
                                <li>Avoid state when possible. <a
                                        href="https://medium.com/@housecor/react-stateless-functional-components-nine-wins-you-might-have-overlooked-997b0d933dbc#.mdkjqgfor">
                                    Stateless components</a> (or dumb components)&rightarrow; </li>
                                <ul>
                                    <li>Will allways do the same thing, when given the same props</li>
                                    <li>Are easier to understand and test</li>
                                </ul>
                                <li>A common pattern is to declare state in top-level components,
                                    and pass it down to children via props
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2 style="font-size: 1.6em;">What when my application grows bigger?</h2>
        </hgroup>
        <article>
            <p>Compared to other SPA-frameworks like, for example Angular, React is very light-weight and leave it
                up to developers to solve greater "architectural" challenges
            </p>
            <p>We have already seen that routing for example, requires an extra package</p>
            <p>React, by itself does not really answer questions like:</p>
            <ul>
                <li>Where should we fetch/synchronize with- external data</li>
                <li>How should components communicate? We know we can pass information from parent to child
                    via props, but what with?
                    <ul>
                        <li>Child to Parent Communication</li>
                        <li>Sibling to Sibling Communication</li>
                        <li>Any to Any Communication</li>
                    </ul>
                </li>

            </ul>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>Data flow in React Applications</h2>
            <h3>React enforces unidirectional data flow</h3>
        </hgroup>
        <article>
            <div class="row">
                <div class="col-md-7">
                    <p>
                        Remember that React follows a component based approach, where the data flows through the
                        components
                        from parent to child which makes it fundamentally unidirectional
                    </p>
                    <ul>
                        <li>Intial state are passed in via Props</li>
                        <li>Internally (when required) state changes are handled via <em>State</em></li>
                    </ul>

                </div>
                <div class="col-md-5">
                    <img style="width:100%;margin-top: 20px;" src="images/dataFlow1.png"/>
                </div>
            </div>

        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>Data flow in React Applications</h2>
            <h3>Communication from non-child components </h3>
        </hgroup>
        <article>
            <div class="row">
                <div class="col-md-7">
                    <p>React itself does not provide any way to perform:</p>
                    <ul>
                        <li>Child to Parent Communication</li>
                        <li>Sibling to Sibling Communication</li>
                        <li>Any to Any Communication</li>
                    </ul>
                    <p>
                        Facebook suggest the pattern <em>"lifting state up"</em>, where state is lifted up,
                        via event handlers passed down (via Props).<br/>
                        This pattern works for smaller applications, but quickly becomes prone to errors,
                        when an application grows in size</p>
                </div>
                <div class="col-md-5">
                    <img style="width:100%;margin-top: 20px;" src="images/dataFlow2.png"/>
                </div>
            </div>

        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>Data flow in React Applications</h2>
            <h3>Using a "store" </h3>
        </hgroup>
        <article>
            <div class="row">
                <div class="col-md-7">
                    <p style="margin-top: -25px;">
                        Based on general good practices, proven over many years, data can be encapsulated in
                        one or more <b>stores</b>,
                        focusing on <em>data manipulation/business-logic only</em>.
                    </p>
                    <p>
                        Again, inspired by good old practices, an observer-based design can notify UI-code about
                        updates,
                        when data changes.</p>
                    <p>Both Redux and MobX are based on a design with a Store, and both provide a way to "notify" about
                        changes in the store.</p>
                    <ul>
                        <li><b>Redux:</b> Single Store (single source of truth)</li>
                        <li><b>MobX</b> Single or multi-Store</li>
                    </ul>
                </div>
                <div class="col-md-5">
                    <img style="width:100%;margin-top: 20px;" src="images/dataFlowWithStore.png"/>
                </div>
            </div>

        </article>
    </slide>


    <slide>
        <hgroup>
            <h2>MobX or Redux - OO or Functional </h2>
        </hgroup>
        <article>
            <div style="margin-top: -20px;">
                <img style="width:65%;margin-left: 6em;" src="images/paradighms.PNG"/>
                <footer class="source"><a href="https://www.youtube.com/watch?v=83v8cdvGfeA">MobX vs Redux</a></footer>
            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>MobX</h2>
        </hgroup>
        <article>
            <div>
                <p>MobX is NOT a State Container in itself (like Redux) or even an Architecture</p>

                <p>Its a library that solves (Observer-like) technical problems and should be used
                    combined with proper engineering practices like:</p>
                <ul>
                    <li>Encapsulate logic in methods/classes</li>
                    <li>Organize data in Stores/Facades</li>
                    <li>Notify Observers when data change</li>
                    <li>Basically use it, combined with proper OO-techniques/ideas</li>
                </ul>
            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>MobX - Why? </h2>
        </hgroup>
        <article>
            <div style="margin-top: -15px;">

                <p>First of all. For (simpler) applications you don't need "extra's" like Redux or MobX.
                    We can just use plain React State <em>(this.setState({..}), this.state.xxx</em>/p>
                <p>With MobX however, "simple applications" gets even simpler, so it's harder to find arguments for
                    "not to use it" ;-)</p>
                <ul>
                    <li>It turns React into what its name implies; that is being truly <b>Reactive</b></li>
                    <li>It provide more functionality with:
                        <ul>
                            <li>Less Code</li>
                            <li>Fewer Errors</li>
                        </ul>
                    </li>
                    <li>No need to call setState(..) anymore</li>
                    <li>No need for complex "elevator" events to subscribe to relevant data</li>
                    <li>Easy to understand, Object Oriented Code, drawing heavily on the Observer Pattern
                    </li>
                </ul>
            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>MobX - an quick summary </h2>
        </hgroup>
        <article>
            <div style="margin-top: -30px;">
                <p>
                    MobX's strategy toward state managing is to make it impossible to produce an inconsistent state.</br
                    />
                    The strategy to achieve that is: Make sure that everything that can be <em>derived</em> from the
                    application
                    state, will be derived. <b>Automatically</b>.</p>
                <p>Conceptually MobX treats your application like a <a
                        href="https://docs.google.com/spreadsheets/d/1tzG8lVHRNYNbzO4-6jVWye8t_yRmNgptTLDu4dAynVQ/edit?usp=sharing">
                    spreadsheet</a>.</p>

            </div>
            <img style="width: 50%;margin-left: 10em;" src="images/mobxoverview.png">

            <footer class="source"><a href="https://mobx.js.org/getting-started.html">Ten minute introduction to MobX
                and
                React</a></footer>
            </div>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>MobX - The Building Blocks</h2>
        </hgroup>
        <article>
            <div style="margin-top: 20px;">
                <img style="width: 120%;margin-left:-2.5em;" src="images/mobxOverViewHorizontal.png"/>
            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>MobX - Demo</h2>
        </hgroup>
        <article>
            <p style="margin-top: -25px;">We will use a simple App, based on MobX's <a
                    href="https://mobx.js.org/getting-started.html">Ten
                minute introduction ot MobX and React</a> for this summary</p>
            <div style="margin-top: 20px;" class="row">
                <p></p>
                <div class="col-md-4"/>
                <img style="width:80%" , src="../images/Demo.png"/>
                <p>Clone code from here: <br/><a style="font-size: small"
                                                 href="https://github.com/CphbusFall2017FullStackJS/mobx_redux.git">
                    https://github.com/CphbusFall2017FullStackJS/mobx_redux.git</a>

                </p>

            </div>
            <div class="col-md-8">
                <p>The example will end up with an architecture as sketched below: </p>
                <img style="width: 70%; margin-left: 3em;margin-top:-1em;" src="images/ArchitectureForDemo.PNG"/>
            </div>
            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>MobX/React - Suggested Architecture-1</h2>
        </hgroup>
        <article>
            <div style="margin-top: -25px;">
                <p style="margin-bottom: 40px;">Use MobX to create <em>Data-Stores</em>, inject those stores via Props,
                    and manipulate data only in stores via actions</p>
                <div class="row">
                    <div class="col-md-6">
                        <p style="color:steelblue;font-weight: bold;">What you should remember</p>
                        <br/>
                        <p>Why it is worth considering MobX</p>
                        <p>Basic MobX decorators like:</p>
                        <ul>
                            <li><code>@observable</code></li>
                            <li><code>@computed</code></li>
                            <li><code>@observer</code></li>
                            <li><code>@action</code></li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <br/><br/>
                        <img style="width: 100%" src="images/suggestArchitecture.PNG">
                    </div>
                </div>
            </div>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>MobX/React - Suggested Architecture-2</h2>
        </hgroup>
        <article>
            <div style="margin-top: -25px;">
                <p style="margin-bottom: 4px;">Use MobX to create <em>Data-Stores</em> using <code>@observable</code>,
                    <code>@computed</code>
                    and <code>@action</code> to provide "traditional" encapsulated <em>observable</em> components </p>
                <img style="width: 75%;margin-left: 6em;" src="images/trueEncapsulation.PNG">
            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>mobx-react @observer</h2>
        </hgroup>
        <article>
            <div style="margin-top: -25px;">
                <p>MobX can be used with any JavaScript UI framework.
                    With the mobx-react package, The <b>observer</b> function/decorator can be used to turn
                    <b>ReactJS</b>
                    components into <b>reactive components</b>.
                    It wraps the component's render function in <code>mobx.autorun</code> to make sure that any data
                    that is used during the rendering
                    of a component forces a re-rendering upon change</p>
                <img style="width: 60%;margin-left: 9em;" src="images/mobX-React.PNG">
            </div>

        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>Redux</h2>
        </hgroup>
        <article>
            <div style="margin-top: -25px;">
                Redux is a JavaScript framework that provides a <em>predictable state container</em> for
                applications.<br/>
                It is most popular together with React, or React Native, but can be used with any other view
                library.</p>

                <div class="row" style="margin-top: 50px;">
                    <div class="col-md-4">
                        <p>
                            Unlike standard MVC frameworks, where data can flow between UI components and storage in
                            both directions,
                            Redux strictly allows data to flow in one direction only.</p>
                    </div>
                    <div class="col-md-8">
                        <img style="width:100%;margin-top: 10px;" src="images/redux-flow-chart.png"/>
                    </div>
                </div>
            </div>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>Redux - principles</h2>
            <h3>Redux can be described in three fundamental principles:</h3>
        </hgroup>
        <article>
            <div class="row" style="margin-top: -25px;">
                <div class="col-md-7">
                    <b>Single source of truth:</b><br/>
                    <p>The state of the entire application is stored in an object/ state tree within a single store.
                        The single state tree makes it easier to keep track of the changes over time and debug or
                        inspect the
                        application.</p>
                    <p>
                        <b>State is read-only:</b><br/>
                        The only way to change the state is to trigger an <b>action</b>.
                        An action is a plain JS object describing the change.</p>
                    <b>Changes are made with pure functions:</b><br/>
                    <p>In order to specify how the state tree is transformed by actions, you need pure functions.
                        Pure functions are those whose return values depend solely on the values of their arguments.
                        <b>Reducers</b> are just pure functions that take the previous state and an action and return
                        the next
                        state.
                    </p>
                </div>
                <div class="col-md-5">
                    <img style="width:100%;margin-top: 100px;" src="images/dataFlowWithReduxStore.png"/>
                </div>
            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>Redux - Single Source of Truth</h2>
        </hgroup>
        <article>
            <div class="row">

                <ul>
                    <li>Redux uses only one store for all its application state.</li>
                    <li>The single state tree makes it easier to keep track of the changes over time (Time Travel) and
                        debug or
                        inspect the application.
                    </li>
                    <li>With a single source of truth, i.e. the store, there is no confusion about how to sync the
                        current state
                        with actions and other parts of the application.
                    </li>
                    <li>The code becomes easier to maintain with a predictable outcome and strict structure</li>
                    <li>For a faster development cycle, it helps to persist the application’s state in development.</li>
                    <li>Some functionality which has been traditionally difficult to implement - Undo/Redo, for example
                        -
                        can suddenly become trivial to implement
                    </li>
                </ul>

            </div>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>State is read-only</h2>
        </hgroup>
        <article>
            <div>
                <p style="color:steelblue">The only way to change the state is to emit an action,
                    a plain object that represents an intention to change the state</p>
                <br/>
                <p>In Redux state are held in the (single) store object</p>
                <p>The store object itself has a very small API with only these methods:</p>
                <pre class="prettyprint">
   store.dispatch(action)
   store.subscribe(listener)
   store.getState()
   replaceReducer(nextReducer)
</pre>
                <p>Observe: <em>There's no method for setting state</em>.
                    Therefore, dispatching an action is the only way for the application code to express a state change
                </p>
            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2 style="font-size: 1.7em;">Changes are made with Pure Functions</h2>
        </hgroup>
        <article>
            <div>
                <p style="color:steelblue;margin-top: -25px;">To specify how the state tree is transformed by actions,
                    you write
                    pure reducers.</p>
                <p><b>Reducers</b> are just pure functions that take the previous state and an action, and return the
                    next
                    state.</p>
                <p><b>State is read-only</b>, so you return new state objects, and don't mutate previous
                    state</p>
                <pre class="prettyprint pre18">
function todos(<b>state = [], action</b>) {
  switch (action.type) {
    case 'ADD_TODO':
      return [<b>...state</b>,{text: action.text,completed: false}]
    case 'COMPLETE_TODO':
      return state.map((todo, index) => {
        if (index === action.index) {
          return <b>Object.assign({}</b>, todo, {
            completed: true
          })
        }
        return todo
      })   .....        </pre>
            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>Pure Functions</h2>
        </hgroup>
        <article>
            <div>
                <p style="color:steelblue;margin-top: -25px;">
                    A pure function has two qualities</p>
                <ul>
                    <li>It relies only on the input provided — and not on any external state that may change during its
                        evaluation or in between calls.
                    </li>
                    <li>It doesn’t cause any semantically observable side effects, such as modifying a global object or
                        a parameter passed by reference.
                    </li>
                </ul>
                <div class="row">
                    <div class="col-md-6">
                        <p style="text-align: center">Impure</p>
                        <img style="width:90%" src="images/inpureFunction.png"/>
                    </div>
                    <div class="col-md-6">
                        <p style="text-align: center">Pure</p>
                        <img style="width:90%" src="images/pureFunction.png"/>
                    </div>
                </div>
            </div>
        </article>
    </slide>


    <slide>
        <hgroup>
            <h2>Immutable JavaScript with es2015...</h2>
            <h3>How do we create new state objects, when mutation is forbidden? </h3>
        </hgroup>
        <article>
            <div>
                <p style="color:steelblue">Objects</p>
                <pre class="prettyprint">
const person = { name: 'John', age: 28 }
//With ES6
const newPerson1 = Object.assign({}, person, { age: 30});
//With ES7 Object Spread (via Babel or Node)
const newPerson2 = {...person, age: 37}
console.log(newPerson1 === person) // false
console.log(newPerson2 === person) // false
</pre>

            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>Immutable JavaScript with es2015...</h2>
            <h3>Arrays </h3>
        </hgroup>
        <article>
            <div style="margin-top: -30px;">
                <p style="color:steelblue;margin:0px;">What you are used to do</p>
                <pre class="prettyprint">
const names = [ 'Peter', 'Jan' ]
const newNames = names;
newNames.push('Annie')
//How many names is in the names array?
</pre>
                <div class="build">
                    <div>
                        <p style="color:steelblue;margin:0px;">Immutable array operations</p>
                        <pre>
const names = [ 'Peter', 'Jan' ]
//Immutable with the array concat method
const newNames2 = names.<b>concat("Ida")</b>;

//Immutable with the array spread operator
const newNames3 = [<b>...names </b>,"Ida"];

console.log(names === newNames2) // false
console.log(names === newNames3) // false </pre>
                    </div>
                </div>
            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>Immutable JavaScript with es2015...</h2>
            <h3>Immutable arrays with filter, map and the array spread operator </h3>
        </hgroup>
        <article>
            <div style="margin-top: -30px;">
        <pre class="prettyprint">
const names = [ 'Peter', 'Jan', 'Annie']
// Removing Jan with filter
const withoutJan = names.<b>filter</b>(name => name !== 'Jan')
console.log(withoutJan)
// Changing Annie to Anne
const anne = names.<b>map</b>(name => name === 'Annie' ? 'Anne' : name)
console.log(anne)
// All characters uppercase
const upper = names.<b>map</b>(name => name.toUpperCase())
console.log(upper)
// Merging two character sets
const otherNames = [ 'Thomas', 'Janne' ]
const moreNames = [ <b>...</b>names, <b>...</b>otherNames ]
console.log(moreNames)
//const sortedNames = moreNames.sort(); DONT DO THIS
const sortedNames = [...moreNames].sort();
console.log(sortedNames);</pre>

            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>Actions and Action Creators</h2>

        </hgroup>
        <article>
            <div style="margin-top: -30px;">
                <b>Actions</b> are payloads of information that send data from your application to your store.
                They are the only source of information for the store.
            </div>
            <p style="margin: 0px;margin-top:10px;color:steelblue">Simpe Action Example</p>
            <pre class="prettyprint">
var action = {
  type: 'ADD_USER',
  user: {name: 'Dan'}
};
</pre>
            <p style="margin: 0px;margin-top:10px;color:steelblue">
                <b>Action creators</b> are just functions that create actions.
            </p>
            <pre class="prettyprint">
function addUser(name){
  return {
    type: 'ADD_USER',
    user: {name}
  }</pre>
            <p style="margin: 0px;margin-top:10px;color:steelblue">
                Assuming we have a store, this is how we use the action</p>
            <pre class="prettyprint">
<b>store.dispatch</b>(addUser("Peter"));</pre>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>Reducers</h2>
        </hgroup>
        <article>
            <div style="margin-top: -30px;">
                <p>
                    Actions describe the fact that something happened, but don't specify how the application's state
                    changes in response.
                    This is the job of <b>reducers</b>
                </p>
                <pre class="prettyprint">
const initialState = { users: [] }
var userReducer = function (state = initialState, action) {
  switch (action.type) {
    case 'ADD_USER':
      return {
        <b>...state,
        users: [...state.users, action.user]</b>
      }
    default:
      return state;
  }
}</pre>
                <p>Setup a store to use this reducer</p>
                <pre class="prettyprint">
var store = Redux.createStore(userReducer);</pre>

                </pre>
            </div>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>Redux, debuging and TimeTravel</h2>
        </hgroup>
        <article>
            <div style="margin-top: 5em;">
                <div class="row">
                    <div class="col-md-4"/>
                    <img style="width:100%" , src="../images/Demo.png"/>
                </div>

                <div class="col-md-8">
                    <p style="margin-top: 1em;">If not already done, install Redux DevTools for Chrome</p>
                    <p>Navigate to this demo
                        <span style="font-size: small"><a
                                href="https://codesandbox.io/s/github/reactjs/redux/tree/master/examples/counter">https://codesandbox.io/s/github/reactjs/redux/tree/master/examples/counter</a>
                    </span>
                        , and follow on with the demo</p>
                </div>
            </div>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>Redux with React</h2>
        </hgroup>
        <article>
            <p>Clone this project:</p>
            <p><a href="https://github.com/CphbusFall2017FullStackJS/reactWithReduxCounter.git">
                https://github.com/CphbusFall2017FullStackJS/reactWithReduxCounter.git</a> </p>
            <p>to follow on with this presentation</p>
            <div class="row">
                <div class="col-md-7">
                    <p>The project provides the same example implemented three different ways</p>
                    <ul>
                        <li>Redux + plain React (no use of react-redux)</li>
                        <li>Redux + React with react-redux (no Controller/Presentations Components)</li>
                        <li>Redux + React with react-redux (with Controller and Presentation Components)</li>
                    </ul>

                </div>
                <div class="col-md-5">
                    <img style="width:100%" , src="images/reactReduxLogo.PNG"/>
                </div>
            </div>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>Redux with React</h2>
        </hgroup>
        <article>
            <p>"Basically" all three examples are built arround this design</p>
            <img style="margin-left:4em;width:70%;" src="images/reactReduxCounter1.PNG"/>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>Redux with React 1</h2>
            <h3>Redux with plain React</h3>
        </hgroup>
        <article>
            <div class="row" style="margin-top: -30px;">
                <div class="col-md-6" style="font-size: 0.9em;">
                    <p>The store, returned from Redux's createStore method provides a subscribe method</p>
                    <p>If we pass in a callback, it will be called whenever the store has changed</p>
                </div>
                <div class="col-md-6">
                   <pre class="prettyprint pre16">
const store = createStore(reducer);

const renderProxy = () =&gt; {
  render(&lt;App store={store} /&gt;,
    document.getElementById(&quot;root&quot;));
}
renderProxy();
store.subscribe(renderProxy); </pre>
                </div>
            </div>
            <hr/>
            <div class="row">
                <div class="col-md-6" style="font-size: 0.9em;">
                    <p>Observe how the store passed in via props are destructured into a store variable </p>
                    <p><b>count</b> and the <b>dispatch method</b> are passed on into the Counter Component and
                        <b>count</b> are also
                        passed into the Display component </p>
                </div>
                <div class="col-md-6">
                    <pre class="prettyprint pre16">
const App = ({store}) =&gt; (
  &lt;div&gt;
    &lt;Counter count={store.getState().count}
     dispatch={store.dispatch}/&gt;
    &lt;Display count={store.getState().count} /&gt;
  &lt;/div&gt;
)                    </pre>
                </div>
            </div>
            <hr style="margin:2px;"/>

            <div class="row" style="font-size: 0.7em; color:steelblue">
                <div class="col-md-6">
                    Find the code for this example is in:
                    <p>Check the code to see how the props, passed into the <b>Counter</b> and <b>Display</b>
                        components, are used
                    </p>
                </div>
                <div class="col-md-6">
                    <ul>
                        <li><b>indexSimple.js</b> (= index.js)</li>
                        <li>The folder: <b>simple</b></li>
                    </ul>
                </div>
            </div>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>Redux with react-redux and React 2</h2>
            <h3>Redux from react with <b>Provider</b> and <b>connect</b></h3>
        </hgroup>
        <article>
            <p>Redux suplies a package <b>react-redux</b> (<span
                    style="font-family: monospace;">npm install --save react-redux</span>)</p>
            <P>This package includes two features which make Redux integration "simpler"</P>
            <ul>
                <li> A <b>Provider</b> component which will "inject" the store in every component in the app tree</li>
                <li> The store is now available in every component, but only via the <b>connect</b> method</li>
            </ul>
            <div class="row" style="font-size: 0.7em; color:steelblue">
                <div class="col-md-5">
                    Find the code for this example is in:
                </div>
                <div class="col-md-7">
                    <ul>
                        <li><b>indexNoController.js</b> (= index.js)</li>
                        <li>The folder: <b>noContainers</b></li>
                    </ul>
                </div>
            </div>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>react-redux </h2>
            <h3><b>Provider</b></h3>
        </hgroup>
        <article>
            <p style="margin-top: -20px;">
                Redux holds the global state for the entire app, and by wrapping the entire app with the <b>Provider</b>
                component
                from <em>react-redux</em>, every component in the app tree will be able to use <b>connect</b> to access
                the Redux store
                (if it wants to)</p>

            <pre class="prettyprint">
const store = createStore(reducer);
render(
  &lt;Provider store={store}&gt;
    &lt;App /&gt;
  &lt;/Provider&gt;,
  document.getElementById('root'));
            </pre>
            <p>
                The Provider might seem like a kind of magic. Under the hood it uses React’s “context” feature.
                It provides access to the store for each component in the three, via the connect method.
            </P>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>react-redux </h2>
            <h3><b>connect</b></h3>
        </hgroup>
        <article>
            <div class="row">
                <div class="col-md-6">
                    <p>First observe that no prop values are passed down from App to neither Component or Display</p>
                </div>
                <div class="col-md-6">
                   <pre class="prettyprint pre18">
const App = () =&gt; (
  &lt;div&gt;
    &lt;Counter /&gt;
    &lt;Display /&gt;
  &lt;/div&gt;
)</pre>
                </div>
            </div>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>react-redux </h2>
            <h3><b>connect</b></h3>
        </hgroup>
        <article>
            <div style="margin-top: -35px;">
                <div class="row">
                    <div class="col-md-6" style="font-size: 0.75em;">
                        <p>Note in this code the call to:<br/> <code>connect(mapStateToProps)(Counter)</code></p>
                        <p><code>connect</code> is a <em>higher-order</em> function, which returns a function when you
                            call it,
                            and then, calling that function with a component returns a new (wrapped) component.</p>
                        <p>What <code>connect</code> does is; it hooks into Redux, pulls out the entire state, and pass
                            it through
                            the <code>mapStateToProps</code> function that you provide.</p>
                        <p>Te entire state is passed by <code>connect</code> into <code>mapStateToProps</code> and you
                            decide what to
                            pass on forward to the Control </p>
                        <p>The object returned from <code>mapStateToProps</code> gets injected into your component as
                            <b>props</b>.</p>
                        <p>This example will pass state.count as the value of the <em>val prop</em>: the keys in the
                            object
                            become prop names, and their corresponding values become the props’ values. </p>
                        <p style="font-weight: bold">So this function literally defines a mapping from state into
                            props.</p>

                    </div>
                    <div class="col-md-6">
<pre class="prettyprint pre16">
//Display.js

const Display = (props)=&gt;(
  &lt;div className=&quot;head&quot;&gt;
     &lt;h1 &gt;{props.count}&lt;/h1&gt;
  &lt;/div&gt;
)

function <b>mapStateToProps(state)</b> {
  return {
    count: state.count
  };
}
export default <b>connect(mapStateToProps)(Display)</b>
</pre>
                    </div>
                </div>
            </div>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>react-redux </h2>
            <h3><b>connect</b></h3>
        </hgroup>
        <article>
            <div class="row" style="margin-top: -30px;">
                <div class="col-md-5" style="font-size: 0.9em;">
                    <p>Similar to what we did with <code>mapStateToProps</code>, container components can dispatch
                        actions. </p>
                    <p>You can define a function called <code>mapDispatchToProps()</code> that receives the <code>dispatch()</code>
                        method and returns callback props that you want to inject into the presentational component</p>
                    <br/>
                    <p><b>We will investigate this with the debugger</b></p>
                </div>
                <div class="col-md-7">
                    <pre class="prettyprint pre16">
const Counter = (props) =&gt; {
  return (
     ...
     &lt;button onClick={props.onDecrement}&gt;-&lt;/button&gt;
     &lt;span className=&quot;counter&quot;&gt; {props.count} &lt;/span&gt;
     &lt;button onClick={props.onIncrement}&gt;+&lt;/button&gt;
     ...
  )
}

function mapStateToProps(state) {
  return { count: state.count };
}

const <b>mapDispatchToProps</b> = dispatch =&gt; {
  return {
    onIncrement: ()=&gt; dispatch({type: INCREMENT,val: 1}),
    .....
  }
}
export default <b>connect(mapStateToProps,
                        mapDispatchToProps)(Counter)</b>; </pre>
                </div>
            </div>
        </article>
    </slide>
    <slide>
        <hgroup>
            <h2>React with Redux 3 </h2>
            <h3> with Controller and Presentation Components</h3>
        </hgroup>
        <article>
            <p>Facebook suggest a React/Redux-architecture based on Container and Presentation components </p>
            <p>
                <a href="https://redux.js.org/docs/basics/UsageWithReact.html#presentational-and-container-components">Read
                    more about this here</a>
            </p>
            <p>The code example used up until now, provides an example of this.
                You are not required to use this architecture for the hand-in</p>
            <div class="row" style="font-size: 0.7em; color:steelblue">
                <div class="col-md-5">
                    Find the code for this example is in:
                </div>
                <div class="col-md-7">
                    <ul>
                        <li><b>indexController.js</b> (= index.js)</li>
                        <li>The folder: <b>withcontainercomponents</b></li>
                    </ul>
                </div>
            </div>
        </article>
    </slide>

    <slide class="nobackground" style="background: #00163B">
        <aside class="gdbar right"><img src="../images/logo.png" style="width: 200px;"></aside>
        <hgroup>

        </hgroup>
        <article class="flexbox  auto-fadein" style="margin-top: 25%;">
            <h2>Rest of today; Exercises :-)</h2>

        </article>
        <p class="auto-fadein" data-config-contact>
            <!-- populated from slide_config.json -->
        </p>
    </slide>


    <slide class="backdrop"></slide>

</slides>

<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-XXXXXXXX-1']);
  _gaq.push(['_trackPageview']);

  (function () {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
  })();
</script>

<!--[if IE]>
<script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
<script>CFInstall.check({mode: 'overlay'});</script>
<![endif]-->
</body>
</html>
